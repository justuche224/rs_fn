import{r,u as R,j as e,B as a,t as l,aL as V}from"./index-Z5TVvw63.js";import{C as $,c as K,d as Y,e as q,a as G,b as J}from"./card-CvMxzrOD.js";import{D as b,f as w,a as S,b as W,c as T,d as D,e as A,g as Q}from"./dialog-Ws2kpBCK.js";import{S as X,a as Z,b as _,c as ee,d as n}from"./select-DmVgwQHJ.js";import{I as se}from"./input-CXa3c2KI.js";import{L}from"./label-C9vbw83q.js";import{g as re,b as ae,c as te}from"./wallets-C0hSF4_8.js";import{P as B}from"./plus-Dfjdr8O5.js";import{L as k}from"./loader-circle-DV2Lo5TK.js";import{T as le}from"./trash-2-CVKcjpsV.js";import{C as ne}from"./check-DaB-t9CX.js";import{C as ce}from"./copy-GAGF9BA9.js";import{W as E}from"./wallet-B8eMy7gj.js";import"./index-DVnuQoA8.js";import"./index-3OC5O_-l.js";import"./chevron-down-HM1v1Wrw.js";function ie({callbackURL:o}){const[t,m]=r.useState(null),[F,h]=r.useState(!0),[x,j]=r.useState(!1),[U,i]=r.useState(!1),[c,g]=r.useState(""),[d,p]=r.useState(""),[O,f]=r.useState(null),[y,N]=r.useState(!1),P=R(),u=async()=>{try{h(!0);const s=await re();m(s)}catch{l("No Wallets Found"),m(null)}finally{h(!1)}},H=async s=>{if(s){N(!0);try{await ae(s),l.success("Wallet deleted successfully"),u()}catch{l.error("Failed to delete wallet. Please try again.")}finally{N(!1)}}},I=async()=>{if(!c||!d.trim()){l.error("Please enter both currency and wallet address");return}try{j(!0),await te(c,d),l.success(`${c} wallet added successfully`),o?P({to:o}):(u(),i(!1),g(""),p(""))}catch{l.error("Failed to add wallet. Please try again.")}finally{j(!1)}},z=s=>{navigator.clipboard.writeText(s),f(s),setTimeout(()=>f(null),2e3)},M=s=>{const v={BTC:"bg-orange-500",ETH:"bg-purple-500",USDT:"bg-green-500",SOL:"bg-blue-500",BNB:"bg-yellow-500",LTC:"bg-gray-500"};return e.jsx("div",{className:`${v[s]||"bg-gray-400"} p-3 rounded-full`,children:e.jsx(E,{className:"h-6 w-6 text-white"})})},C=s=>new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return r.useEffect(()=>{u()},[]),e.jsxs("div",{className:"container mx-auto py-6 md:w-[90%] lg:w-[85%] px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Wallets"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your cryptocurrency wallets"})]}),e.jsxs(b,{open:U,onOpenChange:i,children:[e.jsx(w,{asChild:!0,children:e.jsxs(a,{className:"cursor-pointer",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Add New Wallet"]})}),e.jsxs(S,{children:[e.jsxs(W,{children:[e.jsx(T,{children:"Add New Wallet"}),e.jsx(D,{children:"Enter your cryptocurrency wallet details below"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"currency",children:"Currency"}),e.jsxs(X,{value:c,onValueChange:s=>g(s),children:[e.jsx(Z,{children:e.jsx(_,{placeholder:"Select currency"})}),e.jsxs(ee,{children:[e.jsx(n,{value:"BTC",children:"Bitcoin (BTC)"}),e.jsx(n,{value:"ETH",children:"Ethereum (ETH)"}),e.jsx(n,{value:"USDT",children:"Tether (USDT)"}),e.jsx(n,{value:"SOL",children:"Solana (SOL)"}),e.jsx(n,{value:"BNB",children:"Binance Coin (BNB)"}),e.jsx(n,{value:"LTC",children:"Litecoin (LTC)"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(L,{htmlFor:"address",children:"Wallet Address"}),e.jsx(se,{id:"address",placeholder:"Enter your wallet address",value:d,onChange:s=>p(s.target.value)})]})]}),e.jsxs(A,{children:[e.jsx(a,{variant:"outline",onClick:()=>i(!1),className:"cursor-pointer",children:"Cancel"}),e.jsx(a,{onClick:I,disabled:x||!c||!d,className:"cursor-pointer",children:x?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):"Add Wallet"})]})]})]})]}),F?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(k,{className:"animate-spin",size:40})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t!=null&&t.length?t.map(s=>e.jsxs($,{className:"overflow-hidden relative",children:[e.jsxs(b,{children:[e.jsx(w,{asChild:!0,children:e.jsx(a,{className:"absolute top-0 right-0 cursor-pointer hover:scale-95 hover:opacity-75 transition-all duration-300",variant:"destructive",size:"icon",children:e.jsx(le,{})})}),e.jsxs(S,{children:[e.jsxs(W,{children:[e.jsx(T,{children:"Confirm Deletion"}),e.jsxs(D,{children:["Are you sure you want to delete this ",s.currency," ","wallet? This action cannot be undone."]})]}),e.jsxs(A,{className:"flex justify-end gap-2 mt-4",children:[e.jsx(Q,{asChild:!0,children:e.jsx(a,{disabled:y,variant:"outline",onClick:()=>{},className:"cursor-pointer",children:"Cancel"})}),e.jsx(a,{disabled:y,variant:"destructive",onClick:()=>H(s.id),className:"cursor-pointer",children:"Delete Wallet"})]})]})]}),e.jsxs(K,{className:"flex flex-row items-center gap-4",children:[M(s.currency),e.jsxs("div",{children:[e.jsx(Y,{children:s.currency}),e.jsxs(q,{children:["Added on ",C(s.createdAt)]})]})]}),e.jsx(G,{children:e.jsx("div",{className:"bg-muted p-3 rounded-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-mono text-sm truncate max-w-[80%]",children:s.address}),e.jsx(a,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 cursor-pointer",onClick:()=>z(s.address),children:O===s.address?e.jsx(ne,{className:"h-4 w-4 text-green-500"}):e.jsx(ce,{className:"h-4 w-4"})})]})})}),e.jsx(J,{className:"bg-muted/50 px-6 py-3",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",C(s.updatedAt)]})})]},s.id)):e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center h-64 bg-muted/20 rounded-lg border border-dashed",children:[e.jsx(E,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium",children:"No wallets added yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a cryptocurrency wallet to get started"}),e.jsxs(a,{onClick:()=>i(!0),className:"cursor-pointer",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Add Your First Wallet"]})]})}),e.jsxs("div",{className:"mt-8 p-4 bg-muted/30 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Important Information"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("li",{children:"• Always double-check your wallet addresses before making transactions."}),e.jsx("li",{children:"• We recommend using hardware wallets for storing large amounts of cryptocurrency."}),e.jsx("li",{children:"• Never share your private keys with anyone."}),e.jsx("li",{children:"• Keep your recovery phrases in a safe, offline location."})]})]})]})}const Se=function(){const{callbackURL:t}=V.useSearch();return e.jsx(ie,{callbackURL:t})};export{Se as component};
