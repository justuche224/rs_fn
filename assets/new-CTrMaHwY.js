import{aP as b,r as d,u as R,z as t,j as e,B as A,aQ as F}from"./index-D2wGeYxt.js";import{A as w}from"./accent-card-DcND_VPg.js";import{u as S,s as q,F as C,a as o,b as i,c as a,d as l,e as c,f as N,g as v}from"./form-success-DBYzLGzH.js";import{I as m}from"./input-B02d4uOM.js";import{L as E}from"./loader-circle-D1K0hxel.js";import"./card-CUJq6zfY.js";import"./proxy-D8Dgu9Kx.js";import"./label-Dx6uxCJy.js";import"./triangle-alert-Cs2lnZCz.js";import"./circle-check-BVYmu-SS.js";const L=t.object({type:t.string().min(1),price:t.string().min(1),minRoiAmount:t.string().min(1),maxRoiAmount:t.string().min(1),commission:t.string().min(1),percentage:t.string().min(1),duration:t.string().min(1),description:t.string().min(1)}),H=function(){const{callbackURL:p}=b.useSearch(),[n,h]=d.useTransition(),[P,x]=d.useState(""),[g,u]=d.useState(""),f=R(),s=S({resolver:q(L),defaultValues:{type:"",price:"",minRoiAmount:"",maxRoiAmount:"",commission:"",percentage:"",duration:"",description:""}});function y(r){x(void 0),u(void 0),h(async()=>{try{await F(r),u("Plan Created"),f({to:p??"/admin/plans"})}catch(j){x(j instanceof Error?j.message:"Failed to create plan")}})}return e.jsx("div",{className:"h-full flex justify-center mt-10 container max-w-2xl w-full mx-auto",children:e.jsx(w,{className:"max-w-2xl mx-auto lg:w-2xl md:w-xl sm:w-lg",title:"New Plan",description:"Create a new Plan",children:e.jsx(C,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(y),className:"space-y-6",children:[e.jsx(o,{control:s.control,name:"type",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan Type"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan Type e.g Premium,Starter...",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"price",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan Price"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan Price e.g 1000",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"minRoiAmount",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan minRoiAmount"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan minRoiAmount",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"maxRoiAmount",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan maxRoiAmount"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan maxRoiAmount",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"commission",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan commission"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan commission",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"percentage",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan percentage"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan percentage",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"duration",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan duration"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan duration",required:!0})}),e.jsx(c,{})]})}),e.jsx(o,{control:s.control,name:"description",disabled:n,render:({field:r})=>e.jsxs(i,{children:[e.jsx(a,{children:"Plan description"}),e.jsx(l,{children:e.jsx(m,{...r,type:"text",placeholder:"Plan description",required:!0})}),e.jsx(c,{})]})}),e.jsx(N,{message:P}),e.jsx(v,{message:g}),e.jsx(A,{disabled:n,type:"submit",className:"w-full",children:n?e.jsx(E,{className:"h-4 w-4 animate-spin"}):"Create Plan"})]})})})})};export{H as component};
