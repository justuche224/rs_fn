import{aR as g,r,u as f,z as c,j as e,B as j,aS as h}from"./index-Cn3qFwNA.js";import{A as y}from"./accent-card-D3VzAYr7.js";import{u as C,s as F,F as w,a as S,b,c as N,d as v,e as E,f as R,g as L}from"./form-success-CtEQIy5G.js";import{I}from"./input-BFG3t4H0.js";import{L as A}from"./loader-circle-aQEBN9NX.js";import"./card-Awdj3cbH.js";import"./proxy-DHFsrLxE.js";import"./label-Z2UWEDJA.js";import"./triangle-alert-2P4b2tFH.js";import"./circle-check-CpV6rbvP.js";const B=c.object({name:c.string().min(1)}),J=function(){const{callbackURL:i}=g.useSearch(),[s,l]=r.useTransition(),[u,o]=r.useState(""),[d,n]=r.useState(""),x=f(),a=C({resolver:F(B),defaultValues:{name:""}});function p(t){o(void 0),n(void 0),l(async()=>{try{await h(t.name),n("Category Created"),x({to:i??"/admin/categories"})}catch(m){o(m instanceof Error?m.message:"Failed to create category")}})}return e.jsx("div",{className:"h-full flex justify-center mt-10 container max-w-2xl w-full mx-auto",children:e.jsx(y,{className:"max-w-2xl mx-auto lg:w-2xl md:w-xl sm:w-lg",title:"New Category",description:"Create a new category",children:e.jsx(w,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(p),className:"space-y-6",children:[e.jsx(S,{control:a.control,name:"name",disabled:s,render:({field:t})=>e.jsxs(b,{children:[e.jsx(N,{children:"Category Name"}),e.jsx(v,{children:e.jsx(I,{...t,type:"text",placeholder:"Category Name",required:!0})}),e.jsx(E,{})]})}),e.jsx(R,{message:u}),e.jsx(L,{message:d}),e.jsx(j,{disabled:s,type:"submit",className:"w-full",children:s?e.jsx(A,{className:"h-4 w-4 animate-spin"}):"Create Category"})]})})})})};export{J as component};
