import{r as i,u as L,z as n,j as e,c as E,L as d,B as k,a as C,t as I}from"./index-e8ay9PhV.js";import{I as x}from"./input-CBwRnmzR.js";import{u as z,F as A,a as u,b as f,c as g,d as p,e as h,f as R,g as q,s as B}from"./form-success-8E6a4GuE.js";import{L as P}from"./loader-circle-uvu4pR17.js";import{A as T}from"./arrow-right-CUjQc4x0.js";import"./label-Bf5FtEcV.js";import"./triangle-alert-BnwAlyDJ.js";import"./circle-check-Dr-0IMwB.js";function V({callbackURL:t="/dashboard",className:j,...b}){const[r,N]=i.useTransition(),[v,o]=i.useState(""),[w,l]=i.useState(""),F=L(),y=n.object({email:n.string().email(),password:n.string().min(8)}),a=z({resolver:B(y),defaultValues:{email:"",password:""}});function S(s){o(void 0),l(void 0),N(async()=>{const{error:m}=await C.signIn.email({email:s.email,password:s.password,callbackURL:`${window.location.origin}${t}`},{onSuccess:()=>{F({to:t})},onError(c){c.error.status===403?(I.error("Verify your email!"),l("A link to verify your email has been sent to your inbox.")):o(c.error.message)}});m&&o(m.message)})}return e.jsx(A,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(S),className:E("flex flex-col gap-6",j),...b,children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Login to your account"}),e.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Enter your email below to login to your account"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx(u,{control:a.control,name:"email",disabled:r,render:({field:s})=>e.jsxs(f,{className:"grid gap-2",children:[e.jsx(g,{htmlFor:"email",children:"Email"}),e.jsx(p,{children:e.jsx(x,{...s,id:"email",type:"email",placeholder:"m@example.com",required:!0,autoComplete:"email"})}),e.jsx(h,{})]})}),e.jsx(u,{control:a.control,name:"password",disabled:r,render:({field:s})=>e.jsxs(f,{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{htmlFor:"password",children:"Password"}),e.jsx(d,{to:"/forgot-password",className:"ml-auto text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),e.jsx(p,{children:e.jsx(x,{...s,id:"password",type:"password",required:!0})}),e.jsx(h,{})]})}),e.jsx(R,{message:v}),e.jsx(q,{message:w}),e.jsx(k,{disabled:r,type:"submit",className:"w-full",children:r?e.jsx(P,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:["Login ",e.jsx(T,{className:"ml-2 h-4 w-4"})]})}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Or"})})]}),e.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",e.jsx(d,{to:"/sign-up",className:"underline underline-offset-4",children:"Sign up"})]})]})})}const Q=function(){return e.jsxs("div",{className:"grid min-h-svh lg:grid-cols-2",children:[e.jsx("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("div",{className:"w-full max-w-xs",children:e.jsx(V,{})})})}),e.jsx("div",{className:"relative hidden bg-muted lg:block",children:e.jsx("img",{src:"/assets/images/banner/banner-bg3.jpg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})};export{Q as component};
