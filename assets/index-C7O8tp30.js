import{s as Z,u as Oe,r as t,av as Be,t as n,j as e,B as i,M as De}from"./index-iDHF-Q5J.js";import{C as m,c as x,d as u,a as h,b as p,e as b}from"./card-Bzf_1tml.js";import{S as A,a as V,b as $,c as R,d as E}from"./select-U-F52zvu.js";import{I}from"./input-C7dhJJKf.js";import{L as f}from"./label-B9r1K2uX.js";import{C as Ge}from"./checkbox-DTg5a4fS.js";import{a as Ie,b as We,T as Ue,N as _e,W as Ye,v as ze,i as He,j as Ke,k as Qe}from"./liquidation-5DG90TT6.js";import{L as g}from"./loader-circle-B36KQXTj.js";import{T as W}from"./triangle-alert-Ck_pgaVK.js";import{A as M}from"./arrow-right-Cpv_mLLQ.js";import{A as U}from"./arrow-left-mfnzEC2_.js";import{S as xe}from"./shield-CCSYX_rN.js";import{C as ue}from"./clock-D-lmOgFW.js";import{C as Ze}from"./copy-BbswlsHI.js";import{C as Je}from"./check-BRf1tYsS.js";import{C as Xe}from"./circle-check-DOuhSUZj.js";import"./index-CqimZQQu.js";import"./index-K-UvUWiP.js";import"./chevron-down-Bprd0FQf.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ss=Z("Globe",es);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],ts=Z("KeyRound",as);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ls=Z("Zap",rs),ns=({currency:_})=>{const v={BTC:"bg-orange-500",ETH:"bg-purple-700",USDT:"bg-green-600",SOL:"bg-blue-600",BNB:"bg-yellow-500",LTC:"bg-gray-500"},Y={BTC:"₿",ETH:"Ξ",USDT:"₮",SOL:"◎",BNB:"B",LTC:"Ł"};return e.jsx("div",{className:`h-8 w-8 rounded-full ${v[_]||"bg-gray-400"} flex items-center justify-center text-white font-bold`,children:Y[_]||"?"})},ks=function(){var me;const v=Oe(),[Y,J]=t.useState(!0),[z,w]=t.useState(!1),[c,d]=t.useState("select-assets"),[l,he]=t.useState(null),[H,je]=t.useState([]),[O,pe]=t.useState(null),[C,fe]=t.useState([]),[j,X]=t.useState(""),[N,ge]=t.useState(""),[S,Ne]=t.useState(""),[B,ye]=t.useState(""),[D,be]=t.useState(""),[y,ve]=t.useState(""),[F,ee]=t.useState(""),[se,we]=t.useState(0),[o,Ce]=t.useState(null),[Se,ke]=t.useState(20*60),[P,ae]=t.useState(""),[K,Fe]=t.useState(null),[k,te]=t.useState(5*60),[,Pe]=t.useState(""),[G,re]=t.useState(!1),[le,ne]=t.useState(!1),[q,ie]=t.useState(0),ce=t.useCallback(async()=>{try{J(!0);const[s,a,r]=await Promise.all([Ie(),We(),Be()]);he(s),je(a),pe(r)}catch{n.error("Failed to load liquidation data")}finally{J(!1)}},[]);t.useEffect(()=>{ce()},[ce]),t.useEffect(()=>{if(c==="payment"&&o){const s=new Date(o.expiresAt).getTime(),a=setInterval(()=>{const r=Date.now(),L=Math.max(0,Math.floor((s-r)/1e3));ke(L),L===0&&(clearInterval(a),n.error("Payment timer expired. Please start again."),d("select-assets"))},1e3);return()=>clearInterval(a)}},[c,o]),t.useEffect(()=>{if(c==="verify-otp"&&K){const s=setInterval(()=>{const a=Date.now(),r=Math.max(0,Math.floor((K.getTime()-a)/1e3));te(r),r===0&&(clearInterval(s),n.error("OTP expired. Please request a new code."))},1e3);return()=>clearInterval(s)}},[c,K]),t.useEffect(()=>{if(q>0){const s=setInterval(()=>{ie(a=>Math.max(0,a-1))},1e3);return()=>clearInterval(s)}},[q]);const de=s=>{const a=Math.floor(s/60),r=s%60;return`${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},Q=()=>O?C.reduce((s,a)=>s+parseFloat(O[a]||"0"),0):0,T=()=>l!=null&&l.maxLiquidationPercentage?Q()*l.maxLiquidationPercentage/100:0,qe=s=>{fe(a=>a.includes(s)?a.filter(r=>r!==s):[...a,s])},Te=async()=>{if(!j||parseFloat(j)<=0){n.error("Please enter a valid amount");return}const s=parseFloat(j);if(s>T()){n.error(`Amount exceeds maximum allowed (${l==null?void 0:l.maxLiquidationPercentage}% of balance)`);return}const a=C[0],r=await ze(a,s);if(!r.valid){n.error(r.error||"Validation failed");return}d("select-target")},Le=()=>{if(!N||!S){n.error("Please select target crypto and network");return}d("fee-calculation"),Ae()},Ae=async()=>{if(w(!0),await new Promise(s=>setTimeout(s,1500)),await new Promise(s=>setTimeout(s,1e3)),await new Promise(s=>setTimeout(s,1e3)),l!=null&&l.gasFeePercentage){const s=parseFloat(j)*l.gasFeePercentage/100;we(s)}w(!1),d("link-wallet")},Ve=async()=>{if(!B||!D){n.error("Please select wallet provider and enter address");return}if(!y||!F){n.error("Please select gas fee payment method");return}if(!H.find(a=>a.currency===y&&a.network===F)){n.error("No gas wallet available for selected payment method");return}await oe()},oe=async()=>{re(!0);try{const s=await He();s.success&&(Fe(new Date(s.expiresAt)),te(5*60),ae(""),ie(60),d("verify-otp"),n.success("Verification code sent to your email"))}catch{n.error("Failed to send verification code. Please try again.")}finally{re(!1)}},$e=async()=>{if(!P||P.length!==6){n.error("Please enter a valid 6-character code");return}ne(!0);try{const s=await Ke(P);s.valid&&s.token?(Pe(s.token),n.success("Verification successful!"),d("payment"),Re(s.token)):n.error(s.error||"Invalid verification code")}catch{n.error("Failed to verify code. Please try again.")}finally{ne(!1)}},Re=async s=>{w(!0);try{await new Promise(r=>setTimeout(r,2e3));const a=await Qe(C[0],parseFloat(j),N,S,B,D,y,F,s);Ce(a)}catch{n.error("Failed to create liquidation request"),d("verify-otp")}finally{w(!1)}},Ee=async()=>{w(!0),await new Promise(s=>setTimeout(s,2e3)),await new Promise(s=>setTimeout(s,1500)),await new Promise(s=>setTimeout(s,1e3)),w(!1),d("success")},Me=s=>{navigator.clipboard.writeText(s),n.success("Copied to clipboard")};if(Y)return e.jsx("div",{className:"flex h-full min-h-96 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:"mx-auto h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"mt-2 text-lg",children:"Loading liquidation options..."})]})});if(!(l!=null&&l.isEnabled)||!(l!=null&&l.maxLiquidationPercentage)||!(l!=null&&l.gasFeePercentage))return e.jsx("div",{className:"container py-8 mx-auto",children:e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-amber-100",children:e.jsx(W,{className:"h-6 w-6 text-amber-600"})}),e.jsx(u,{className:"mt-4",children:"Liquidation Not Available"})]}),e.jsx(h,{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Liquidation is not available yet. Please contact support for assistance."})}),e.jsx(p,{className:"flex justify-center",children:e.jsx(i,{onClick:()=>v({to:"/dashboard"}),children:"Return to Dashboard"})})]})});if(H.length===0)return e.jsx("div",{className:"container py-8 mx-auto",children:e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-amber-100",children:e.jsx(W,{className:"h-6 w-6 text-amber-600"})}),e.jsx(u,{className:"mt-4",children:"Service Temporarily Unavailable"})]}),e.jsx(h,{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Gas fee payment addresses are not configured. Please contact support."})}),e.jsx(p,{className:"flex justify-center",children:e.jsx(i,{onClick:()=>v({to:"/dashboard"}),children:"Return to Dashboard"})})]})});if(c==="select-assets")return e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Convert your crypto holdings to your preferred cryptocurrency"}),e.jsxs(m,{className:"max-w-2xl mx-auto",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Step 1: Select Assets to Liquidate"}),e.jsx(b,{children:"Choose which assets you want to liquidate"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"space-y-4",children:O&&Object.entries(O).map(([s,a])=>{const r=parseFloat(a),L=C.includes(s);return e.jsx("div",{className:`flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors ${L?"border-primary bg-primary/5":"hover:bg-muted/50"} ${r<=0?"opacity-50 cursor-not-allowed":""}`,onClick:()=>r>0&&qe(s),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ge,{checked:L,disabled:r<=0}),e.jsx(ns,{currency:s}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Balance: $",r.toFixed(2)]})]})]})},s)})}),C.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Selected Balance"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",Q().toFixed(2)]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Max Liquidation (",l.maxLiquidationPercentage,"%): $",T().toFixed(2)]})]})]}),e.jsx(p,{className:"flex justify-end",children:e.jsxs(i,{onClick:()=>d("enter-amount"),disabled:C.length===0,children:["Continue ",e.jsx(M,{className:"ml-2 h-4 w-4"})]})})]})]});if(c==="enter-amount")return e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter liquidation amount"}),e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Step 2: Enter Amount"}),e.jsx(b,{children:"Specify how much you want to liquidate (in USD)"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Balance"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",Q().toFixed(2)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"amount",children:"Amount to Liquidate (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),e.jsx(I,{id:"amount",type:"number",placeholder:"0.00",className:"pl-8",value:j,onChange:s=>X(s.target.value),min:"0",max:T(),step:"0.01"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Max: $",T().toFixed(2)," (",l.maxLiquidationPercentage,"%)"]}),e.jsx(i,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:()=>X(T().toFixed(2)),children:"Use Max"})]})]}),e.jsx("div",{className:"rounded-md bg-amber-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(W,{className:"h-5 w-5 text-amber-600 flex-shrink-0"}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-amber-800",children:["You can liquidate up to ",l.maxLiquidationPercentage,"% of your total balance per request."]})})]})})]}),e.jsxs(p,{className:"flex justify-between",children:[e.jsxs(i,{variant:"outline",onClick:()=>d("select-assets"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"})," Back"]}),e.jsxs(i,{onClick:Te,disabled:!j||parseFloat(j)<=0,children:["Continue ",e.jsx(M,{className:"ml-2 h-4 w-4"})]})]})]})]});if(c==="select-target")return e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Select target cryptocurrency"}),e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Step 3: Select Target Crypto & Network"}),e.jsx(b,{children:"Choose which cryptocurrency you want to receive"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Target Cryptocurrency"}),e.jsxs(A,{value:N,onValueChange:ge,children:[e.jsx(V,{children:e.jsx($,{placeholder:"Select cryptocurrency"})}),e.jsx(R,{children:Ue.map(s=>e.jsx(E,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Network"}),e.jsxs(A,{value:S,onValueChange:Ne,children:[e.jsx(V,{children:e.jsx($,{placeholder:"Select network"})}),e.jsx(R,{children:_e.map(s=>e.jsx(E,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Liquidation Summary"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount"}),e.jsxs("span",{children:["$",j]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Target"}),e.jsxs("span",{children:[N||"-"," (",S||"-",")"]})]})]})]}),e.jsxs(p,{className:"flex justify-between",children:[e.jsxs(i,{variant:"outline",onClick:()=>d("enter-amount"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"})," Back"]}),e.jsxs(i,{onClick:Le,disabled:!N||!S,children:["Continue ",e.jsx(M,{className:"ml-2 h-4 w-4"})]})]})]})]});if(c==="fee-calculation")return e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Calculating fees..."}),e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Step 4: Fee Calculation"}),e.jsx(b,{children:"Calculating gas fees and checking network availability"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(ls,{className:"h-4 w-4 text-primary animate-pulse"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Calculating gas fee..."}),e.jsx("div",{className:"h-1 bg-muted-foreground/20 rounded-full mt-1 overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary w-1/3 animate-pulse rounded-full"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(ss,{className:"h-4 w-4 text-primary animate-pulse"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Checking network availability..."}),e.jsx("div",{className:"h-1 bg-muted-foreground/20 rounded-full mt-1 overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary w-2/3 animate-pulse rounded-full"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(xe,{className:"h-4 w-4 text-primary animate-pulse"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Validating transaction..."}),e.jsx("div",{className:"h-1 bg-muted-foreground/20 rounded-full mt-1 overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary w-full animate-pulse rounded-full"})})]})]})]}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx(g,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Please wait while we prepare your liquidation..."})]})]})]})]});if(c==="link-wallet"){const s=H.reduce((a,r)=>(a[r.currency]||(a[r.currency]=[]),a[r.currency].includes(r.network)||a[r.currency].push(r.network),a),{});return e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Link your wallet"}),e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Step 5: Link Wallet & Pay Gas Fee"}),e.jsx(b,{children:"Connect your wallet and select gas fee payment method"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-green-800",children:"Gas Fee"}),e.jsxs("span",{className:"text-lg font-bold text-green-800",children:["$",se.toFixed(2)]})]}),e.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[l.gasFeePercentage,"% of liquidation amount"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Wallet Provider"}),e.jsxs(A,{value:B,onValueChange:ye,children:[e.jsx(V,{children:e.jsx($,{placeholder:"Select wallet provider"})}),e.jsx(R,{children:Ye.map(a=>e.jsx(E,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Your Wallet Address"}),e.jsx(I,{placeholder:"Enter your wallet address",value:D,onChange:a=>be(a.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["This is where your liquidated ",N," will be sent"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Gas Fee Payment Method"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Pay Gas Fee With"}),e.jsxs(A,{value:y,onValueChange:a=>{ve(a),ee("")},children:[e.jsx(V,{children:e.jsx($,{placeholder:"Select currency"})}),e.jsx(R,{children:Object.keys(s).map(a=>e.jsx(E,{value:a,children:a},a))})]})]}),y&&e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(f,{children:"Network"}),e.jsxs(A,{value:F,onValueChange:ee,children:[e.jsx(V,{children:e.jsx($,{placeholder:"Select network"})}),e.jsx(R,{children:(me=s[y])==null?void 0:me.map(a=>e.jsx(E,{value:a,children:a},a))})]})]})]})]}),e.jsxs(p,{className:"flex justify-between",children:[e.jsxs(i,{variant:"outline",onClick:()=>{d("select-target")},children:[e.jsx(U,{className:"mr-2 h-4 w-4"})," Back"]}),e.jsx(i,{onClick:Ve,disabled:!B||!D||!y||!F||G,children:G?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Code..."]}):e.jsxs(e.Fragment,{children:["Continue ",e.jsx(M,{className:"ml-2 h-4 w-4"})]})})]})]})]})}return c==="verify-otp"?e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Security verification"}),e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-primary/10 mb-4",children:e.jsx(ts,{className:"h-8 w-8 text-primary"})}),e.jsx(u,{children:"Step 6: Verify Your Identity"}),e.jsx(b,{children:"Enter the 6-character verification code sent to your email"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:`flex items-center justify-center gap-2 p-3 rounded-lg border ${k<=60?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[e.jsx(ue,{className:`h-5 w-5 ${k<=60?"text-red-600":"text-blue-600"}`}),e.jsx("span",{className:`text-lg font-bold ${k<=60?"text-red-600":"text-blue-600"}`,children:de(k)}),e.jsx("span",{className:`text-sm ${k<=60?"text-red-600":"text-blue-600"}`,children:"until code expires"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[e.jsx(De,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Code sent to your email"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Check your inbox and spam folder"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"otp",children:"Verification Code"}),e.jsx(I,{id:"otp",type:"text",placeholder:"Enter 6-character code",value:P,onChange:s=>ae(s.target.value.toUpperCase().slice(0,6)),className:"text-center text-2xl tracking-[0.5em] font-mono uppercase",maxLength:6,autoComplete:"one-time-code"}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Enter the alphanumeric code from your email"})]}),e.jsx("div",{className:"text-center",children:e.jsx(i,{variant:"link",onClick:oe,disabled:q>0||G,className:"text-sm",children:G?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):q>0?`Resend code in ${q}s`:"Didn't receive the code? Resend"})}),e.jsx("div",{className:"rounded-md bg-amber-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(xe,{className:"h-5 w-5 text-amber-600 flex-shrink-0"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),e.jsxs("ul",{className:"mt-2 text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"Never share this code with anyone"}),e.jsx("li",{children:"Our team will never ask for your code"}),e.jsx("li",{children:"Code expires in 5 minutes"})]})]})]})})]}),e.jsxs(p,{className:"flex justify-between",children:[e.jsxs(i,{variant:"outline",onClick:()=>d("link-wallet"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"})," Back"]}),e.jsx(i,{onClick:$e,disabled:P.length!==6||le||k===0,children:le?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:["Verify & Continue ",e.jsx(M,{className:"ml-2 h-4 w-4"})]})})]})]})]}):c==="payment"?z||!o?e.jsx("div",{className:"container py-8 mx-auto",children:e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsx(x,{className:"text-center",children:e.jsx(u,{children:"Generating Payment Address"})}),e.jsxs(h,{className:"text-center py-8",children:[e.jsx(g,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Generating secure gas fee payment address..."}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Please do not close this page"})]})]})}):e.jsxs("div",{className:"container py-8 mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Liquidate Assets"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Pay gas fee"}),e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{children:[e.jsx(u,{children:"Step 7: Pay Gas Fee"}),e.jsx(b,{children:"Send the gas fee to complete your liquidation"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx(ue,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"text-lg font-bold text-red-600",children:de(Se)}),e.jsx("span",{className:"text-sm text-red-600",children:"remaining"})]}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount to Pay"}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(o.gasFeeAmount).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["in ",o.gasFeeCurrency]})]}),o.gasFeeQrCode&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:o.gasFeeQrCode,alt:"Payment QR Code",className:"w-48 h-48 rounded-lg border"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Payment Address"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{value:o.gasFeeAddress,readOnly:!0,className:"font-mono text-sm"}),e.jsx(i,{variant:"outline",size:"icon",onClick:()=>Me(o.gasFeeAddress),children:e.jsx(Ze,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"rounded-md bg-amber-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(W,{className:"h-5 w-5 text-amber-600 flex-shrink-0"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Important"}),e.jsxs("ul",{className:"mt-2 text-sm text-amber-700 space-y-1",children:[e.jsxs("li",{children:["Send exactly $",parseFloat(o.gasFeeAmount).toFixed(2)," in"," ",o.gasFeeCurrency]}),e.jsx("li",{children:"Payment must be made within the time limit"}),e.jsx("li",{children:"Double-check the address before sending"}),e.jsx("li",{children:"Only send from your linked wallet"})]})]})]})})]}),e.jsx(p,{className:"flex justify-center",children:e.jsx(i,{onClick:Ee,disabled:z,className:"w-full",children:z?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying Payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"I Have Made the Payment"]})})})]})]}):c==="confirmation"?e.jsx("div",{className:"container py-8 mx-auto",children:e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsx(x,{className:"text-center",children:e.jsx(u,{children:"Verifying Payment"})}),e.jsxs(h,{className:"text-center py-8",children:[e.jsx(g,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Verifying your payment on the blockchain..."}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"This may take a few moments"})]})]})}):c==="success"?e.jsx("div",{className:"container py-8 mx-auto",children:e.jsxs(m,{className:"max-w-lg mx-auto",children:[e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:e.jsx(Xe,{className:"h-10 w-10 text-green-600"})}),e.jsx(u,{className:"mt-4 text-xl",children:"Liquidation Request Submitted"})]}),e.jsxs(h,{className:"text-center space-y-4",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Your liquidation request of $",j," has been submitted and is being processed."]}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg text-left space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount"}),e.jsxs("span",{children:["$",j]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Target"}),e.jsxs("span",{children:[N," (",S,")"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Gas Fee Paid"}),e.jsxs("span",{children:["$",se.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status"}),e.jsx("span",{className:"text-amber-600 font-medium",children:"Processing"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You will receive a notification once your liquidation is complete. You can track the status in your liquidation history."})]}),e.jsxs(p,{className:"flex flex-col gap-2",children:[e.jsx(i,{className:"w-full",onClick:()=>v({to:"/dashboard/liquidation-history"}),children:"View Liquidation History"}),e.jsx(i,{variant:"outline",className:"w-full",onClick:()=>v({to:"/dashboard"}),children:"Return to Dashboard"})]})]})}):null};export{ks as component};
