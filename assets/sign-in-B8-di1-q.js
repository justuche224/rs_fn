import{r as n,u as L,z as l,j as e,c as k,L as x,B as E,a as C,t as I,d as R}from"./index-Ckkvuujd.js";import{I as u}from"./input-Bjq3SFI6.js";import{u as z,F as A,a as f,b as g,c as p,d as h,e as j,f as q,g as B,s as P}from"./form-success-BhMVzz5B.js";import{L as T}from"./loader-circle-ByqrKCx2.js";import{A as V}from"./arrow-right-oQdDaDJg.js";import"./label-JzPI7j4G.js";import"./triangle-alert-DmiSwM3E.js";import"./circle-check-ChQZG6uZ.js";function $({callbackURL:t="/dashboard",className:o,...b}){const[r,N]=n.useTransition(),[v,i]=n.useState(""),[w,c]=n.useState(""),F=L(),y=l.object({email:l.string().email(),password:l.string().min(8)}),a=z({resolver:P(y),defaultValues:{email:"",password:""}});function S(s){i(void 0),c(void 0),N(async()=>{const{error:m}=await C.signIn.email({email:s.email,password:s.password,callbackURL:`${window.location.origin}${t}`},{onSuccess:()=>{F({to:t})},onError(d){d.error.status===403?(I.error("Verify your email!"),c("A link to verify your email has been sent to your inbox.")):i(d.error.message)}});m&&i(m.message)})}return e.jsx(A,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(S),className:k("flex flex-col gap-6",o),...b,children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Login to your account"}),e.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Enter your email below to login to your account"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx(f,{control:a.control,name:"email",disabled:r,render:({field:s})=>e.jsxs(g,{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(h,{children:e.jsx(u,{...s,id:"email",type:"email",placeholder:"m@example.com",required:!0,autoComplete:"email"})}),e.jsx(j,{})]})}),e.jsx(f,{control:a.control,name:"password",disabled:r,render:({field:s})=>e.jsxs(g,{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(x,{to:"/forgot-password",className:"ml-auto text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),e.jsx(h,{children:e.jsx(u,{...s,id:"password",type:"password",required:!0})}),e.jsx(j,{})]})}),e.jsx(q,{message:v}),e.jsx(B,{message:w}),e.jsx(E,{disabled:r,type:"submit",className:"w-full",children:r?e.jsx(T,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:["Login ",e.jsx(V,{className:"ml-2 h-4 w-4"})]})}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Or"})})]}),e.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",e.jsx(x,{to:"/sign-up",className:"underline underline-offset-4",children:"Sign up"})]})]})})}const Q=function(){const{callbackURL:o}=R.useSearch();return e.jsxs("div",{className:"grid min-h-svh lg:grid-cols-2",children:[e.jsx("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("div",{className:"w-full max-w-xs",children:e.jsx($,{callbackURL:o})})})}),e.jsx("div",{className:"relative hidden bg-muted lg:block",children:e.jsx("img",{src:"/assets/images/banner/banner-bg3.jpg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})};export{Q as component};
