import{r as o,z as d,j as e,c as g,B as b,L as v,a as N,d as w}from"./index-e8ay9PhV.js";import{I as y}from"./input-CBwRnmzR.js";import{A as F}from"./accent-card-BGS--0Q_.js";import{u as S,s as k,F as C,a as E,b as L,c as R,d as P,e as I,f as T,g as z}from"./form-success-8E6a4GuE.js";import{L as B}from"./loader-circle-uvu4pR17.js";import"./card-D0Ja0eCS.js";import"./proxy-EiuyQbE0.js";import"./label-Bf5FtEcV.js";import"./triangle-alert-BnwAlyDJ.js";import"./circle-check-Dr-0IMwB.js";function _({callbackURL:i="/dashboard",className:s,...m}){const[r,x]=o.useTransition(),[u,n]=o.useState(""),[f,l]=o.useState(""),h=d.object({email:d.string().email()}),a=S({resolver:k(h),defaultValues:{email:""}});function p(t){n(void 0),l(void 0),x(async()=>{const{error:c}=await N.forgetPassword({email:t.email,redirectTo:`${window.location.origin}/reset-password`},{onSuccess:()=>{l("Reset link sent to your email address.")},onError:j=>{n(j.error.message)}});c&&console.error(c)})}return e.jsxs("div",{className:g("flex flex-col gap-6",s),...m,children:[e.jsx(F,{className:"overflow-hidden",children:e.jsxs("div",{className:"grid p-0 md:grid-cols-2",children:[e.jsx(C,{...a,children:e.jsx("form",{onSubmit:a.handleSubmit(p),className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Forgot Password"}),e.jsx("p",{className:"text-balance text-muted-foreground",children:"Enter your email address to reset your password"})]}),e.jsx("div",{className:"grid gap-2",children:e.jsx(E,{control:a.control,name:"email",disabled:r,render:({field:t})=>e.jsxs(L,{children:[e.jsx(R,{children:"Email"}),e.jsx(P,{children:e.jsx(y,{...t,type:"email",placeholder:"johndoe@example.com",required:!0,autoComplete:"email"})}),e.jsx(I,{})]})})}),e.jsx(T,{message:u}),e.jsx(z,{message:f}),e.jsx(b,{type:"submit",className:"w-full",disabled:r,children:r?e.jsx(B,{className:"animate-spin"}):e.jsx("span",{children:"Send Reset Link"})}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Or"})}),e.jsxs("div",{className:"text-center text-sm",children:["Remember your password?"," ",e.jsx(v,{to:"/sign-in",search:{callbackURL:i},className:"underline underline-offset-4",children:"Sign in"})]})]})})}),e.jsx("div",{className:"relative hidden bg-muted md:block",children:e.jsx("img",{src:"/auth-image.jpg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale hover:dark:brightness-100 hover:dark:grayscale-0 transition-all duration-300"})})]})}),e.jsxs("div",{className:"text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary",children:["By clicking continue, you agree to our ",e.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",e.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})}const J=function(){const{callbackURL:s}=w.useSearch();return e.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-sm md:max-w-3xl",children:e.jsx(_,{callbackURL:s})})})};export{J as component};
